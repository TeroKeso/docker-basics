
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../4_docker-compose/">
      
      
      
      <link rel="icon" href="../assets/favicon/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.9">
    
    
      
        <title>Docker Networking Basics - Devcontainer in codespace with Mkdocs Material</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.4af4bdda.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap">
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/octicons/8.5.0/build.css">
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@mdi/font@6.5.95/css/materialdesignicons.min.css">
    
      <link rel="stylesheet" href="../css/custom.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#docker-networking-basics" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Devcontainer in codespace with Mkdocs Material" class="md-header__button md-logo" aria-label="Devcontainer in codespace with Mkdocs Material" data-md-component="logo">
      
  <img src="../assets/favicon/logo_light_pink.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Devcontainer in codespace with Mkdocs Material
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Docker Networking Basics
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/TeroKeso/docker-basics" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    TeroKeso/docker-basics
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
    
  
  1 Getting started

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../2_docker-images/" class="md-tabs__link">
        
  
    
  
  2 Docker images

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../3_docker-volumes/" class="md-tabs__link">
        
  
    
  
  3 Docker volumes

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../4_docker-compose/" class="md-tabs__link">
        
  
    
  
  4 Docker compose

      </a>
    </li>
  

      
        
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="./" class="md-tabs__link">
        
  
    
  
  5 Docker networks

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Devcontainer in codespace with Mkdocs Material" class="md-nav__button md-logo" aria-label="Devcontainer in codespace with Mkdocs Material" data-md-component="logo">
      
  <img src="../assets/favicon/logo_light_pink.png" alt="logo">

    </a>
    Devcontainer in codespace with Mkdocs Material
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/TeroKeso/docker-basics" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    TeroKeso/docker-basics
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1 Getting started
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../2_docker-images/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2 Docker images
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../3_docker-volumes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3 Docker volumes
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../4_docker-compose/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4 Docker compose
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    5 Docker networks
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    5 Docker networks
    
  </span>
  

      </a>
      
        

  

<nav class="md-nav md-nav--secondary" aria-label="On this HAMK page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this HAMK page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#types-of-docker-networks" class="md-nav__link">
    <span class="md-ellipsis">
      Types of Docker networks
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Types of Docker networks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#host-contained-networks" class="md-nav__link">
    <span class="md-ellipsis">
      Host contained networks
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solutions-that-require-network-device-management" class="md-nav__link">
    <span class="md-ellipsis">
      Solutions that require network device management
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/TeroKeso/docker-basics/edit/main/docs/5_docker-network.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/TeroKeso/docker-basics/raw/main/docs/5_docker-network.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg>
    </a>
  


<h1 id="docker-networking-basics">Docker Networking Basics<a class="headerlink" href="#docker-networking-basics" title="anchor link to this section for reference">&para;</a></h1>
<p>The four basic resources of virtualization are CPU, memory, storage and network connection. In this chapter, we go through the various network solutions that are technically available and which solutions are recomended for software developers to implement in their work environment.</p>
<h2 id="types-of-docker-networks">Types of Docker networks<a class="headerlink" href="#types-of-docker-networks" title="anchor link to this section for reference">&para;</a></h2>
<h3 id="host-contained-networks"><strong>Host contained networks</strong><a class="headerlink" href="#host-contained-networks" title="anchor link to this section for reference">&para;</a></h3>
<p><code>default bridge</code> The default network driver that will be created when docker installs on the system. All containers get an internal IP address and these containers can access each other, using this internal IP. Default bridge will not support container DNS resolving. For that you need User-defined bridge</p>
<p><code>User-defined bridge</code> networks are best when you need multiple containers to communicate on the same Docker host. Support for internal container DNS resolving</p>
<p><code>Host networks</code> are best when the network stack should not be isolated from the Docker host, but you want other aspects of the container to be isolated. Good chose for network or VPN solution. Unfortunately Host networks <strong>will not</strong> work on Windows computers. </p>
<p><code>none</code> disable all networking. Usually used in conjunction with a custom network driver or container that don't need network access. </p>
<h3 id="solutions-that-require-network-device-management"><strong>Solutions that require network device management</strong><a class="headerlink" href="#solutions-that-require-network-device-management" title="anchor link to this section for reference">&para;</a></h3>
<p><code>Overlay networks</code> are best when you need containers running on different Docker hosts to communicate, or when multiple applications work together using swarm services.</p>
<p><code>Macvlan networks</code> are best when you are migrating from a VM setup or need your containers to look like physical hosts on your network, each with a unique MAC address.</p>
<p>https://medium.com/edureka/docker-networking-1a7d65e89013 &amp;&amp; https://docs.docker.com/network/ &amp;&amp; https://docs.docker.com/network/bridge/</p>
<h1 id="docker-networking-practice">Docker Networking practice<a class="headerlink" href="#docker-networking-practice" title="anchor link to this section for reference">&para;</a></h1>
<p>In this lab you'll look at the most basic networking components that come with a fresh installation of Docker.</p>
<p>You will complete the following steps as part of this lab.</p>
<ul>
<li><a href="#docker_network">Step 1 - The <code>docker network</code> command</a></li>
<li><a href="#list_networks">Step 2 - List networks</a></li>
<li><a href="#inspect">Step 3 - Inspect a network</a></li>
<li><a href="#list_drivers">Step 4 - List network driver plugins</a></li>
<li><a href="#connect-container">Step 5: Connect a container</a></li>
<li><a href="#ping_local">Step 6: Test network connectivity</a></li>
<li><a href="#nat">Step 7: Configure NAT for external connectivity</a></li>
<li><a href="#User">Step 8: Configure User user-defined bridges</a></li>
<li><a href="#Host">Step 9: Configure Host network (only on Linux machines)</a></li>
</ul>
<h1 id="step-1-the-docker-network-command"><a name="docker_network"></a>Step 1: The <code>docker network</code> command<a class="headerlink" href="#step-1-the-docker-network-command" title="anchor link to this section for reference">&para;</a></h1>
<p>The <code>docker network</code> command is the main command for configuring and managing container networks.</p>
<p>Run a simple <code>docker network</code> command from any of your lab machines.</p>
<div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>$<span class="w"> </span>docker<span class="w"> </span>network
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>Usage:<span class="w">  </span>docker<span class="w"> </span>network<span class="w"> </span>COMMAND
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>Manage<span class="w"> </span>networks
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>Commands:
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="w">  </span>connect<span class="w">     </span>Connect<span class="w"> </span>a<span class="w"> </span>container<span class="w"> </span>to<span class="w"> </span>a<span class="w"> </span>network
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="w">  </span>create<span class="w">      </span>Create<span class="w"> </span>a<span class="w"> </span>network
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="w">  </span>disconnect<span class="w">  </span>Disconnect<span class="w"> </span>a<span class="w"> </span>container<span class="w"> </span>from<span class="w"> </span>a<span class="w"> </span>network
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="w">  </span>inspect<span class="w">     </span>Display<span class="w"> </span>detailed<span class="w"> </span>information<span class="w"> </span>on<span class="w"> </span>one<span class="w"> </span>or<span class="w"> </span>more<span class="w"> </span>networks
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="w">  </span>ls<span class="w">          </span>List<span class="w"> </span>networks
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="w">  </span>prune<span class="w">       </span>Remove<span class="w"> </span>all<span class="w"> </span>unused<span class="w"> </span>networks
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a><span class="w">  </span>rm<span class="w">          </span>Remove<span class="w"> </span>one<span class="w"> </span>or<span class="w"> </span>more<span class="w"> </span>networks
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>Run<span class="w"> </span><span class="s1">&#39;docker network COMMAND --help&#39;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>more<span class="w"> </span>information<span class="w"> </span>on<span class="w"> </span>a<span class="w"> </span>command.
</span></code></pre></div>
<p>The command output shows how to use the command as well as all of the <code>docker network</code> sub-commands. As you can see from the output, the <code>docker network</code> command allows you to create new networks, list existing networks, inspect networks, and remove networks. It also allows you to connect and disconnect containers from networks.</p>
<h1 id="step-2-list-networks"><a name="list_networks"></a>Step 2: List networks<a class="headerlink" href="#step-2-list-networks" title="anchor link to this section for reference">&para;</a></h1>
<p>Run a <code>docker network ls</code> command to view existing container networks on the current Docker host.</p>
<div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>$<span class="w"> </span>docker<span class="w"> </span>network<span class="w"> </span>ls
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>NETWORK<span class="w"> </span>ID<span class="w">          </span>NAME<span class="w">                </span>DRIVER<span class="w">              </span>SCOPE
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>1befe23acd58<span class="w">        </span>bridge<span class="w">              </span>bridge<span class="w">              </span><span class="nb">local</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>726ead8f4e6b<span class="w">        </span>host<span class="w">                </span>host<span class="w">                </span><span class="nb">local</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>ef4896538cc7<span class="w">        </span>none<span class="w">                </span>null<span class="w">                </span><span class="nb">local</span>
</span></code></pre></div>
<p>The output above shows the container networks that are created as part of a standard installation of Docker.</p>
<p>New networks that you create will also show up in the output of the <code>docker network ls</code> command.</p>
<p>You can see that each network gets a unique <code>ID</code> and <code>NAME</code>. Each network is also associated with a single driver. Notice that the "bridge" network and the "host" network have the same name as their respective drivers.</p>
<h1 id="step-3-inspect-a-network"><a name="inspect"></a>Step 3: Inspect a network<a class="headerlink" href="#step-3-inspect-a-network" title="anchor link to this section for reference">&para;</a></h1>
<p>The <code>docker network inspect</code> command is used to view network configuration details. These details include; name, ID, driver, IPAM driver, subnet info, connected containers, and more.</p>
<p>Use <code>docker network inspect</code> to view configuration details of the container networks on your Docker host. The command below shows the details of the network called <code>bridge</code>.</p>
<div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>$<span class="w"> </span>docker<span class="w"> </span>network<span class="w"> </span>inspect<span class="w"> </span>bridge
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="o">[</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="w">    </span><span class="o">{</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="w">        </span><span class="s2">&quot;Name&quot;</span>:<span class="w"> </span><span class="s2">&quot;bridge&quot;</span>,
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="w">        </span><span class="s2">&quot;Id&quot;</span>:<span class="w"> </span><span class="s2">&quot;1befe23acd58cbda7290c45f6d1f5c37a3b43de645d48de6c1ffebd985c8af4b&quot;</span>,
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="w">        </span><span class="s2">&quot;Scope&quot;</span>:<span class="w"> </span><span class="s2">&quot;local&quot;</span>,
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="w">        </span><span class="s2">&quot;Driver&quot;</span>:<span class="w"> </span><span class="s2">&quot;bridge&quot;</span>,
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="w">        </span><span class="s2">&quot;EnableIPv6&quot;</span>:<span class="w"> </span>false,
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="w">        </span><span class="s2">&quot;IPAM&quot;</span>:<span class="w"> </span><span class="o">{</span>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="w">            </span><span class="s2">&quot;Driver&quot;</span>:<span class="w"> </span><span class="s2">&quot;default&quot;</span>,
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="w">            </span><span class="s2">&quot;Options&quot;</span>:<span class="w"> </span>null,
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="w">            </span><span class="s2">&quot;Config&quot;</span>:<span class="w"> </span><span class="o">[</span>
</span><span id="__span-2-13"><a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a><span class="w">                </span><span class="o">{</span>
</span><span id="__span-2-14"><a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a><span class="w">                    </span><span class="s2">&quot;Subnet&quot;</span>:<span class="w"> </span><span class="s2">&quot;172.17.0.0/16&quot;</span>,
</span><span id="__span-2-15"><a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a><span class="w">                    </span><span class="s2">&quot;Gateway&quot;</span>:<span class="w"> </span><span class="s2">&quot;172.17.0.1&quot;</span>
</span><span id="__span-2-16"><a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a><span class="w">                </span><span class="o">}</span>
</span><span id="__span-2-17"><a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a><span class="w">            </span><span class="o">]</span>
</span><span id="__span-2-18"><a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a><span class="w">        </span><span class="o">}</span>,
</span><span id="__span-2-19"><a id="__codelineno-2-19" name="__codelineno-2-19" href="#__codelineno-2-19"></a><span class="w">        </span><span class="s2">&quot;Internal&quot;</span>:<span class="w"> </span>false,
</span><span id="__span-2-20"><a id="__codelineno-2-20" name="__codelineno-2-20" href="#__codelineno-2-20"></a><span class="w">        </span><span class="s2">&quot;Containers&quot;</span>:<span class="w"> </span><span class="o">{}</span>,
</span><span id="__span-2-21"><a id="__codelineno-2-21" name="__codelineno-2-21" href="#__codelineno-2-21"></a><span class="w">        </span><span class="s2">&quot;Options&quot;</span>:<span class="w"> </span><span class="o">{</span>
</span><span id="__span-2-22"><a id="__codelineno-2-22" name="__codelineno-2-22" href="#__codelineno-2-22"></a><span class="w">            </span><span class="s2">&quot;com.docker.network.bridge.default_bridge&quot;</span>:<span class="w"> </span><span class="s2">&quot;true&quot;</span>,
</span><span id="__span-2-23"><a id="__codelineno-2-23" name="__codelineno-2-23" href="#__codelineno-2-23"></a><span class="w">            </span><span class="s2">&quot;com.docker.network.bridge.enable_icc&quot;</span>:<span class="w"> </span><span class="s2">&quot;true&quot;</span>,
</span><span id="__span-2-24"><a id="__codelineno-2-24" name="__codelineno-2-24" href="#__codelineno-2-24"></a><span class="w">            </span><span class="s2">&quot;com.docker.network.bridge.enable_ip_masquerade&quot;</span>:<span class="w"> </span><span class="s2">&quot;true&quot;</span>,
</span><span id="__span-2-25"><a id="__codelineno-2-25" name="__codelineno-2-25" href="#__codelineno-2-25"></a><span class="w">            </span><span class="s2">&quot;com.docker.network.bridge.host_binding_ipv4&quot;</span>:<span class="w"> </span><span class="s2">&quot;0.0.0.0&quot;</span>,
</span><span id="__span-2-26"><a id="__codelineno-2-26" name="__codelineno-2-26" href="#__codelineno-2-26"></a><span class="w">            </span><span class="s2">&quot;com.docker.network.bridge.name&quot;</span>:<span class="w"> </span><span class="s2">&quot;docker0&quot;</span>,
</span><span id="__span-2-27"><a id="__codelineno-2-27" name="__codelineno-2-27" href="#__codelineno-2-27"></a><span class="w">            </span><span class="s2">&quot;com.docker.network.driver.mtu&quot;</span>:<span class="w"> </span><span class="s2">&quot;1500&quot;</span>
</span><span id="__span-2-28"><a id="__codelineno-2-28" name="__codelineno-2-28" href="#__codelineno-2-28"></a><span class="w">        </span><span class="o">}</span>,
</span><span id="__span-2-29"><a id="__codelineno-2-29" name="__codelineno-2-29" href="#__codelineno-2-29"></a><span class="w">        </span><span class="s2">&quot;Labels&quot;</span>:<span class="w"> </span><span class="o">{}</span>
</span><span id="__span-2-30"><a id="__codelineno-2-30" name="__codelineno-2-30" href="#__codelineno-2-30"></a><span class="w">    </span><span class="o">}</span>
</span><span id="__span-2-31"><a id="__codelineno-2-31" name="__codelineno-2-31" href="#__codelineno-2-31"></a><span class="o">]</span>
</span></code></pre></div>
<blockquote>
<p><strong>NOTE:</strong> The syntax of the <code>docker network inspect</code> command is <code>docker network inspect &lt;network&gt;</code>, where <code>&lt;network&gt;</code> can be either network name or network ID. In the example above we are showing the configuration details for the network called "bridge". Do not confuse this with the "bridge" driver.</p>
</blockquote>
<h1 id="step-4-list-network-driver-plugins"><a name="list_drivers"></a>Step 4: List network driver plugins<a class="headerlink" href="#step-4-list-network-driver-plugins" title="anchor link to this section for reference">&para;</a></h1>
<p>The <code>docker info</code> command shows a lot of interesting information about a Docker installation.</p>
<p>Run a <code>docker info</code> command on any of your Docker hosts and locate the list of network plugins.</p>
<div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>$<span class="w"> </span>docker<span class="w"> </span>info
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>Client:
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="w"> </span>Context:<span class="w">    </span>default
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="w"> </span>Debug<span class="w"> </span>Mode:<span class="w"> </span><span class="nb">false</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="w"> </span>Plugins:
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="w">  </span>buildx:<span class="w"> </span>Docker<span class="w"> </span>Buildx<span class="w"> </span><span class="o">(</span>Docker<span class="w"> </span>Inc.,<span class="w"> </span>v0.8.2<span class="o">)</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="w">  </span>compose:<span class="w"> </span>Docker<span class="w"> </span>Compose<span class="w"> </span><span class="o">(</span>Docker<span class="w"> </span>Inc.,<span class="w"> </span>v2.7.0<span class="o">)</span>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="w">  </span>extension:<span class="w"> </span>Manages<span class="w"> </span>Docker<span class="w"> </span>extensions<span class="w"> </span><span class="o">(</span>Docker<span class="w"> </span>Inc.,<span class="w"> </span>v0.2.8<span class="o">)</span>
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="w">  </span>sbom:<span class="w"> </span>View<span class="w"> </span>the<span class="w"> </span>packaged-based<span class="w"> </span>Software<span class="w"> </span>Bill<span class="w"> </span>Of<span class="w"> </span>Materials<span class="w"> </span><span class="o">(</span>SBOM<span class="o">)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>an<span class="w"> </span>image<span class="w"> </span><span class="o">(</span>Anchore<span class="w"> </span>Inc.,<span class="w"> </span><span class="m">0</span>.6.0<span class="o">)</span>
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="w">  </span>scan:<span class="w"> </span>Docker<span class="w"> </span>Scan<span class="w"> </span><span class="o">(</span>Docker<span class="w"> </span>Inc.,<span class="w"> </span>v0.17.0<span class="o">)</span>
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>
</span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>Server:
</span><span id="__span-3-13"><a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a><span class="w"> </span>Containers:<span class="w"> </span><span class="m">1</span>
</span><span id="__span-3-14"><a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a><span class="w">  </span>Running:<span class="w"> </span><span class="m">0</span>
</span><span id="__span-3-15"><a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a><span class="w">  </span>Paused:<span class="w"> </span><span class="m">0</span>
</span><span id="__span-3-16"><a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a><span class="w">  </span>Stopped:<span class="w"> </span><span class="m">1</span>
</span><span id="__span-3-17"><a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a><span class="w"> </span>Images:<span class="w"> </span><span class="m">5</span>
</span><span id="__span-3-18"><a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a><span class="w"> </span>Server<span class="w"> </span>Version:<span class="w"> </span><span class="m">20</span>.10.17
</span><span id="__span-3-19"><a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a><span class="w"> </span>Storage<span class="w"> </span>Driver:<span class="w"> </span>overlay2
</span><span id="__span-3-20"><a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a><span class="w">  </span>Backing<span class="w"> </span>Filesystem:<span class="w"> </span>extfs
</span><span id="__span-3-21"><a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a><span class="w">  </span>Supports<span class="w"> </span>d_type:<span class="w"> </span><span class="nb">true</span>
</span><span id="__span-3-22"><a id="__codelineno-3-22" name="__codelineno-3-22" href="#__codelineno-3-22"></a><span class="w">  </span>Native<span class="w"> </span>Overlay<span class="w"> </span>Diff:<span class="w"> </span><span class="nb">true</span>
</span><span id="__span-3-23"><a id="__codelineno-3-23" name="__codelineno-3-23" href="#__codelineno-3-23"></a><span class="w">  </span>userxattr:<span class="w"> </span><span class="nb">false</span>
</span><span id="__span-3-24"><a id="__codelineno-3-24" name="__codelineno-3-24" href="#__codelineno-3-24"></a><span class="w"> </span>Logging<span class="w"> </span>Driver:<span class="w"> </span>json-file
</span><span id="__span-3-25"><a id="__codelineno-3-25" name="__codelineno-3-25" href="#__codelineno-3-25"></a><span class="w"> </span>Cgroup<span class="w"> </span>Driver:<span class="w"> </span>cgroupfs
</span><span id="__span-3-26"><a id="__codelineno-3-26" name="__codelineno-3-26" href="#__codelineno-3-26"></a><span class="w"> </span>Cgroup<span class="w"> </span>Version:<span class="w"> </span><span class="m">1</span>
</span><span id="__span-3-27"><a id="__codelineno-3-27" name="__codelineno-3-27" href="#__codelineno-3-27"></a><span class="w"> </span>Plugins:
</span><span id="__span-3-28"><a id="__codelineno-3-28" name="__codelineno-3-28" href="#__codelineno-3-28"></a><span class="w">  </span>Volume:<span class="w"> </span><span class="nb">local</span>
</span><span id="__span-3-29"><a id="__codelineno-3-29" name="__codelineno-3-29" href="#__codelineno-3-29"></a><span class="w">  </span>Network:<span class="w"> </span>bridge<span class="w"> </span>host<span class="w"> </span>ipvlan<span class="w"> </span>macvlan<span class="w"> </span>null<span class="w"> </span>overlay
</span><span id="__span-3-30"><a id="__codelineno-3-30" name="__codelineno-3-30" href="#__codelineno-3-30"></a><span class="w">  </span>Log:<span class="w"> </span>awslogs<span class="w"> </span>fluentd<span class="w"> </span>gcplogs<span class="w"> </span>gelf<span class="w"> </span>journald<span class="w"> </span>json-file<span class="w"> </span><span class="nb">local</span><span class="w"> </span>logentries<span class="w"> </span>splunk<span class="w"> </span>syslog
</span><span id="__span-3-31"><a id="__codelineno-3-31" name="__codelineno-3-31" href="#__codelineno-3-31"></a><span class="w"> </span>Swarm:<span class="w"> </span>inactive
</span><span id="__span-3-32"><a id="__codelineno-3-32" name="__codelineno-3-32" href="#__codelineno-3-32"></a><span class="w"> </span>Runtimes:<span class="w"> </span>io.containerd.runtime.v1.linux<span class="w"> </span>runc<span class="w"> </span>io.containerd.runc.v2
</span><span id="__span-3-33"><a id="__codelineno-3-33" name="__codelineno-3-33" href="#__codelineno-3-33"></a><span class="w"> </span>Default<span class="w"> </span>Runtime:<span class="w"> </span>runc
</span><span id="__span-3-34"><a id="__codelineno-3-34" name="__codelineno-3-34" href="#__codelineno-3-34"></a><span class="w"> </span>Init<span class="w"> </span>Binary:<span class="w"> </span>docker-init
</span><span id="__span-3-35"><a id="__codelineno-3-35" name="__codelineno-3-35" href="#__codelineno-3-35"></a><span class="w"> </span>...
</span></code></pre></div>
<p>The output above shows the <strong>bridge</strong>, <strong>host</strong>, <strong>null</strong>, and <strong>overlay</strong> drivers.</p>
<h1 id="step-5-connect-a-container"><a name="connect-container"></a>Step 5: Connect a container<a class="headerlink" href="#step-5-connect-a-container" title="anchor link to this section for reference">&para;</a></h1>
<p>The <strong>bridge</strong> network is the default network for new containers. This means that unless you specify a different network, all new containers will be connected to the <strong>bridge</strong> network.</p>
<p>Create a new container.</p>
<div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>--name<span class="w"> </span>sleeping-ubuntu<span class="w"> </span>-dt<span class="w"> </span>ubuntu<span class="w"> </span>sleep<span class="w"> </span>infinity<span class="w">     </span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>6dd93d6cdc806df6c7812b6202f6096e43d9a013e56e5e638ee4bfb4ae8779ce
</span></code></pre></div>
<p>This command will create a new container named <code>sleeping-ubuntu</code> based on the <code>ubuntu:latest</code> image and will run the <code>sleep</code> command to keep the container running in the background. As no network was specified on the <code>docker run</code> command, the container will be added to the <strong>bridge</strong> network. </p>
<p>Inspect the <strong>bridge</strong> network again to see the new container attached to it.</p>
<div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>$<span class="w"> </span>docker<span class="w"> </span>network<span class="w"> </span>inspect<span class="w"> </span>bridge
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>&lt;Snip&gt;
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="w">        </span><span class="o">}</span>,
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="w">        </span><span class="s2">&quot;ConfigOnly&quot;</span>:<span class="w"> </span>false,
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="w">        </span><span class="s2">&quot;Containers&quot;</span>:<span class="w"> </span><span class="o">{</span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="w">            </span><span class="s2">&quot;d74c80f164a64e4d1d13c195ac1f4acdbe78d7aa13bb5ffde25354639cff8812&quot;</span>:<span class="w"> </span><span class="o">{</span>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="w">                </span><span class="s2">&quot;Name&quot;</span>:<span class="w"> </span><span class="s2">&quot;sleeping-ubuntu&quot;</span>,
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="w">                </span><span class="s2">&quot;EndpointID&quot;</span>:<span class="w"> </span><span class="s2">&quot;29ca85f851fcad5bc308a97a82add1072119b075f42bc60156afe27207630a69&quot;</span>,
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="w">                </span><span class="s2">&quot;MacAddress&quot;</span>:<span class="w"> </span><span class="s2">&quot;02:42:ac:11:00:02&quot;</span>,
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="w">                </span><span class="s2">&quot;IPv4Address&quot;</span>:<span class="w"> </span><span class="s2">&quot;172.17.0.2/16&quot;</span>,
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a><span class="w">                </span><span class="s2">&quot;IPv6Address&quot;</span>:<span class="w"> </span><span class="s2">&quot;&quot;</span>
</span><span id="__span-5-12"><a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a><span class="w">            </span><span class="o">}</span>
</span><span id="__span-5-13"><a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a><span class="w">        </span><span class="o">}</span>,
</span><span id="__span-5-14"><a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a>&lt;Snip&gt;
</span></code></pre></div>
<h1 id="step-6-test-network-connectivity"><a name="ping_local"></a>Step 6: Test network connectivity<a class="headerlink" href="#step-6-test-network-connectivity" title="anchor link to this section for reference">&para;</a></h1>
<p>The output to the previous <code>docker network inspect</code> command shows the IP address of the new container. In the previous example it is "172.17.0.2" but yours might be different.</p>
<p>Ping the IP address of the container from the shell prompt of your Docker host. Remember to use the IP of the container in <strong>your</strong> environment.</p>
<div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>$<span class="w"> </span>ping<span class="w"> </span><span class="m">172</span>.17.0.2
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">172</span>.17.0.2:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">1</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">64</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">0</span>.069<span class="w"> </span>ms
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">172</span>.17.0.2:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">2</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">64</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">0</span>.052<span class="w"> </span>ms
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">172</span>.17.0.2:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">3</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">64</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">0</span>.050<span class="w"> </span>ms
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">172</span>.17.0.2:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">4</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">64</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">0</span>.049<span class="w"> </span>ms
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">172</span>.17.0.2:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">5</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">64</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">0</span>.049<span class="w"> </span>ms
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>^C
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>---<span class="w"> </span><span class="m">172</span>.17.0.2<span class="w"> </span>ping<span class="w"> </span>statistics<span class="w"> </span>---
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="m">5</span><span class="w"> </span>packets<span class="w"> </span>transmitted,<span class="w"> </span><span class="m">5</span><span class="w"> </span>received,<span class="w"> </span><span class="m">0</span>%<span class="w"> </span>packet<span class="w"> </span>loss,<span class="w"> </span><span class="nb">time</span><span class="w"> </span>3999ms
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a>rtt<span class="w"> </span>min/avg/max/mdev<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>.049/0.053/0.069/0.012<span class="w"> </span>ms
</span></code></pre></div>
<p>Press <code>Ctrl-C</code> to stop the ping. The replies above show that the Docker host can ping the container over the <strong>bridge</strong> network.</p>
<p>Log in to the container, install the <code>ping</code>
 program and ping <code>Yle.fi</code>.</p>
<p>```bash</p>
<h1 id="get-the-id-of-the-container-started-in-the-previous-step">Get the ID of the container started in the previous step.<a class="headerlink" href="#get-the-id-of-the-container-started-in-the-previous-step" title="anchor link to this section for reference">&para;</a></h1>
<p>$ docker ps</p>
<p>CONTAINER ID    IMAGE    COMMAND             CREATED  STATUS  NAMES
6dd93d6cdc80    ubuntu   "sleep infinity"    5 mins   Up      sleeping-ubuntu
<div class="language-text highlight"><span class="filename">Text Only</span><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>```bash
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a># Exec into the container
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>$ docker exec -it 6dd93d6cdc80 /bin/bash
</span></code></pre></div>
<div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="c1"># Update APT package lists and install the iputils-ping package</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>root@6dd93d6cdc80:/#<span class="w"> </span>apt<span class="w"> </span>update
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>apt<span class="w"> </span>install<span class="w"> </span>iputils-ping
</span></code></pre></div>
<div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="c1"># Ping yle.fi from within the container</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>root@6dd93d6cdc80:/#<span class="w"> </span>ping<span class="w"> </span>yle.fi<span class="w">           </span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>PING<span class="w"> </span>yle.fi<span class="w"> </span><span class="o">(</span><span class="m">108</span>.156.22.49<span class="o">)</span><span class="w"> </span><span class="m">56</span><span class="o">(</span><span class="m">84</span><span class="o">)</span><span class="w"> </span>bytes<span class="w"> </span>of<span class="w"> </span>data.
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">108</span>.156.22.49<span class="w"> </span><span class="o">(</span><span class="m">108</span>.156.22.49<span class="o">)</span>:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">1</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">37</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">28</span>.5<span class="w"> </span>ms
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">108</span>.156.22.49<span class="w"> </span><span class="o">(</span><span class="m">108</span>.156.22.49<span class="o">)</span>:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">2</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">37</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">32</span>.2<span class="w"> </span>ms
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">108</span>.156.22.49<span class="w"> </span><span class="o">(</span><span class="m">108</span>.156.22.49<span class="o">)</span>:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">3</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">37</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">34</span>.4<span class="w"> </span>ms
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span><span class="m">108</span>.156.22.49<span class="w"> </span><span class="o">(</span><span class="m">108</span>.156.22.49<span class="o">)</span>:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">4</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">37</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">33</span>.1<span class="w"> </span>ms
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a>^C
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a>---<span class="w"> </span>yle.fi<span class="w"> </span>ping<span class="w"> </span>statistics<span class="w"> </span>---
</span><span id="__span-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a><span class="m">7</span><span class="w"> </span>packets<span class="w"> </span>transmitted,<span class="w"> </span><span class="m">7</span><span class="w"> </span>received,<span class="w"> </span><span class="m">0</span>%<span class="w"> </span>packet<span class="w"> </span>loss,<span class="w"> </span><span class="nb">time</span><span class="w"> </span>6009ms
</span><span id="__span-9-11"><a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a>rtt<span class="w"> </span>min/avg/max/mdev<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">28</span>.516/33.495/42.324/4.141<span class="w"> </span>ms
</span></code></pre></div></p>
<p>This shows that the new container can ping the internet and therefore has a valid and working network configuration.</p>
<h1 id="step-7-configure-nat-for-external-connectivity"><a name="nat"></a>Step 7: Configure NAT for external connectivity<a class="headerlink" href="#step-7-configure-nat-for-external-connectivity" title="anchor link to this section for reference">&para;</a></h1>
<p>In this step we'll start a new <strong>NGINX</strong> container and map port 8080 on the Docker host to port 80 inside of the container. This means that traffic that hits the Docker host on port 8080 will be passed on to port 80 inside the container.</p>
<blockquote>
<p><strong>NOTE:</strong> If you start a new container from the official NGINX image without specifying a command to run, the container will run a basic web server on port 80.</p>
</blockquote>
<p>Start a new container based off the official NGINX image.</p>
<div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>--name<span class="w"> </span>web1<span class="w"> </span>-d<span class="w"> </span>-p<span class="w"> </span><span class="m">8080</span>:80<span class="w"> </span>nginx
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>Unable<span class="w"> </span>to<span class="w"> </span>find<span class="w"> </span>image<span class="w"> </span><span class="s1">&#39;nginx:latest&#39;</span><span class="w"> </span>locally
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>latest:<span class="w"> </span>Pulling<span class="w"> </span>from<span class="w"> </span>library/nginx
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>386a066cd84a:<span class="w"> </span>Pull<span class="w"> </span><span class="nb">complete</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>7bdb4b002d7f:<span class="w"> </span>Pull<span class="w"> </span><span class="nb">complete</span>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>49b006ddea70:<span class="w"> </span>Pull<span class="w"> </span><span class="nb">complete</span>
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a>Digest:<span class="w"> </span>sha256:9038d5645fa5fcca445d12e1b8979c87f46ca42cfb17beb1e5e093785991a639
</span><span id="__span-10-8"><a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a>Status:<span class="w"> </span>Downloaded<span class="w"> </span>newer<span class="w"> </span>image<span class="w"> </span><span class="k">for</span><span class="w"> </span>nginx:latest
</span><span id="__span-10-9"><a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a>b747d43fa277ec5da4e904b932db2a3fe4047991007c2d3649e3f0c615961038
</span></code></pre></div>
<p>Check that the container is running and view the port mapping.</p>
<div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>$<span class="w"> </span>docker<span class="w"> </span>ps
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>CONTAINER<span class="w"> </span>ID<span class="w">    </span>IMAGE<span class="w">               </span>COMMAND<span class="w">                  </span>CREATED<span class="w">             </span>STATUS<span class="w">              </span>PORTS<span class="w">                           </span>NAMES
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>b747d43fa277<span class="w">   </span>nginx<span class="w">               </span><span class="s2">&quot;nginx -g &#39;daemon off&quot;</span><span class="w">   </span><span class="m">3</span><span class="w"> </span>seconds<span class="w"> </span>ago<span class="w">       </span>Up<span class="w"> </span><span class="m">2</span><span class="w"> </span>seconds<span class="w">        </span><span class="m">443</span>/tcp,<span class="w"> </span><span class="m">0</span>.0.0.0:8080-&gt;80/tcp<span class="w">   </span>web1
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>6dd93d6cdc80<span class="w">        </span>ubuntu<span class="w">              </span><span class="s2">&quot;sleep infinity&quot;</span><span class="w">         </span>About<span class="w"> </span>an<span class="w"> </span>hour<span class="w"> </span>ago<span class="w">   </span>Up<span class="w"> </span>About<span class="w"> </span>an<span class="w"> </span>hour<span class="w">                                    </span>sleeping-ubuntu
</span></code></pre></div>
<p>There are two containers listed in the output above. The top line shows the new <strong>web1</strong> container running NGINX. Take note of the command the container is running as well as the port mapping - <code>0.0.0.0:8080-&gt;80/tcp</code> maps port 8080 on all host interfaces to port 80 inside the <strong>web1</strong> container. This port mapping is what effectively makes the containers web service accessible from external sources (via the Docker hosts IP address on port 8080).</p>
<p>Now that the container is running and mapped to a port on a host interface you can test connectivity to the NGINX web server.</p>
<p>Point your web browser to the IP and port 8080 of your Docker host. The following example shows a web browser pointed to <code>localhost:8080</code>. You can also open webpage using Docker Desktop. </p>
<p><img src="assets/docker-desktop-open-www.png" title="docker-desktop"> </p>
<p>If for some reason you cannot open a session from a web browser, you can connect from your Docker host using the <code>curl</code> command.</p>
<div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>$<span class="w"> </span>curl<span class="w"> </span><span class="m">127</span>.0.0.1:8080
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>&lt;!DOCTYPE<span class="w"> </span>html&gt;
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>&lt;html&gt;
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>&lt;head&gt;
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a>&lt;title&gt;Welcome<span class="w"> </span>to<span class="w"> </span>nginx!&lt;/title&gt;
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="w">    </span>&lt;Snip&gt;
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a>&lt;p&gt;&lt;em&gt;Thank<span class="w"> </span>you<span class="w"> </span><span class="k">for</span><span class="w"> </span>using<span class="w"> </span>nginx.&lt;/em&gt;&lt;/p&gt;
</span><span id="__span-12-8"><a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a>&lt;/body&gt;
</span><span id="__span-12-9"><a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a>&lt;/html&gt;
</span></code></pre></div>
<p>If you try and curl the IP address on a different port number it will fail.</p>
<blockquote>
<p><strong>NOTE:</strong> The port mapping is actually port address translation (PAT).</p>
</blockquote>
<h1 id="step-8-configure-user-user-defined-bridges"><a name="User"></a>Step 8: Configure User user-defined bridges<a class="headerlink" href="#step-8-configure-user-user-defined-bridges" title="anchor link to this section for reference">&para;</a></h1>
<p>So far in the exercises, we have used the default network connection, which has been sufficient for the exercises. However, from the point of view of data security, it is important to isolate different containers from each other if it is not necessary for the containers to talk to each other.</p>
<p>In addition, in user-defined networks, containers can use the names of other containers for DNS addressing, which enables working connections even if the containers' IP space changes. DNS service is critical when we use several different docker containers to form a single service entity, such as a WWW server and Mysql databases</p>
<p>Lets create a user-defined bridge network named 
<div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>docker<span class="w"> </span>network<span class="w"> </span>create<span class="w"> </span>my-nginx
</span></code></pre></div></p>
<p>Lets create and start the container. We will start it as a detached process. The -d flag means to start the container detached (in the background). The --rm option means to remove the container once it exits/stops. The -p forwards container 80 port to host 8080 port.</p>
<div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>docker<span class="w"> </span>run<span class="w"> </span>--name<span class="w"> </span>my-nginx<span class="w"> </span>--network<span class="w"> </span>my-net<span class="w"> </span>-d<span class="w"> </span>--rm<span class="w"> </span>-p<span class="w"> </span><span class="m">8080</span>:80<span class="w"> </span>nginx:latest<span class="w">  </span>
</span></code></pre></div>
<p>Next we will stop <a href="#ping_local">Step 6</a> sleeping-ubuntu container if it still running. If you have already stopped it you can skip to docker network command.</p>
<p><div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>$<span class="w"> </span>docker<span class="w"> </span>ps
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>CONTAINER<span class="w"> </span>ID<span class="w">    </span>IMAGE<span class="w">    </span>COMMAND<span class="w">             </span>CREATED<span class="w">  </span>STATUS<span class="w">  </span>NAMES
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>6dd93d6cdc80<span class="w">    </span>ubuntu<span class="w">   </span><span class="s2">&quot;sleep infinity&quot;</span><span class="w">    </span><span class="m">5</span><span class="w"> </span>mins<span class="w">   </span>Up<span class="w">      </span>sleeping-ubuntu
</span></code></pre></div>
<div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>$<span class="w"> </span>docker<span class="w"> </span>stop<span class="w"> </span>6dd93d6cdc80
</span></code></pre></div></p>
<p>We will transfer <code>sleeping-ubuntu</code> container from default network to your new user define network, start it and inspect the my-net network for successful connection</p>
<div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>$<span class="w"> </span>docker<span class="w"> </span>network<span class="w"> </span>connect<span class="w"> </span>my-net<span class="w"> </span>sleeping-ubuntu
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>$<span class="w"> </span>docker<span class="w"> </span>start<span class="w"> </span>sleeping-ubuntu
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>$<span class="w"> </span>docker<span class="w"> </span>network<span class="w"> </span>inspect<span class="w"> </span>my-net
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a>
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a>&lt;Snip&gt;
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="w">                </span><span class="s2">&quot;Name&quot;</span>:<span class="w"> </span><span class="s2">&quot;my-nginx&quot;</span>,
</span><span id="__span-17-7"><a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a><span class="w">                </span><span class="s2">&quot;EndpointID&quot;</span>:<span class="w"> </span><span class="s2">&quot;7f69cd1f607744cb38122ad6e884e2fd5dd0d1fdb3f66e01e7c697f70020e7e2&quot;</span>,
</span><span id="__span-17-8"><a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a><span class="w">                </span><span class="s2">&quot;MacAddress&quot;</span>:<span class="w"> </span><span class="s2">&quot;02:42:ac:13:00:02&quot;</span>,
</span><span id="__span-17-9"><a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a><span class="w">                </span><span class="s2">&quot;IPv4Address&quot;</span>:<span class="w"> </span><span class="s2">&quot;172.19.0.2/16&quot;</span>,
</span><span id="__span-17-10"><a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a><span class="w">                </span><span class="s2">&quot;IPv6Address&quot;</span>:<span class="w"> </span><span class="s2">&quot;&quot;</span>
</span><span id="__span-17-11"><a id="__codelineno-17-11" name="__codelineno-17-11" href="#__codelineno-17-11"></a><span class="w">            </span><span class="o">}</span>,
</span><span id="__span-17-12"><a id="__codelineno-17-12" name="__codelineno-17-12" href="#__codelineno-17-12"></a><span class="w">            </span><span class="s2">&quot;cea4adb35d4d107b531ea9add3884b2250173268afc786ee6c32683cf06eba8a&quot;</span>:<span class="w"> </span><span class="o">{</span>
</span><span id="__span-17-13"><a id="__codelineno-17-13" name="__codelineno-17-13" href="#__codelineno-17-13"></a><span class="w">                </span><span class="s2">&quot;Name&quot;</span>:<span class="w"> </span><span class="s2">&quot;sleeping-ubuntu&quot;</span>,
</span><span id="__span-17-14"><a id="__codelineno-17-14" name="__codelineno-17-14" href="#__codelineno-17-14"></a><span class="w">                </span><span class="s2">&quot;EndpointID&quot;</span>:<span class="w"> </span><span class="s2">&quot;da9266a37c8a5d05d2ea74b3d90826fa3ff5f80f9c80740aadbc1b2f6912bd1c&quot;</span>,
</span><span id="__span-17-15"><a id="__codelineno-17-15" name="__codelineno-17-15" href="#__codelineno-17-15"></a><span class="w">                </span><span class="s2">&quot;MacAddress&quot;</span>:<span class="w"> </span><span class="s2">&quot;02:42:ac:13:00:03&quot;</span>,
</span><span id="__span-17-16"><a id="__codelineno-17-16" name="__codelineno-17-16" href="#__codelineno-17-16"></a><span class="w">                </span><span class="s2">&quot;IPv4Address&quot;</span>:<span class="w"> </span><span class="s2">&quot;172.19.0.3/16&quot;</span>,
</span><span id="__span-17-17"><a id="__codelineno-17-17" name="__codelineno-17-17" href="#__codelineno-17-17"></a><span class="w">                </span><span class="s2">&quot;IPv6Address&quot;</span>:<span class="w"> </span><span class="s2">&quot;&quot;</span>
</span><span id="__span-17-18"><a id="__codelineno-17-18" name="__codelineno-17-18" href="#__codelineno-17-18"></a><span class="w">            </span><span class="o">}</span>
</span><span id="__span-17-19"><a id="__codelineno-17-19" name="__codelineno-17-19" href="#__codelineno-17-19"></a>&lt;Snip&gt;
</span></code></pre></div>
<p>Exec into the container to log in and install the <code>ping</code> program if needed.
<div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>$<span class="w"> </span>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>sleeping-ubuntu<span class="w"> </span>/bin/bash
</span></code></pre></div></p>
<p>Lets ensure that traffic between containers and DNS names work using the ping command</p>
<div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>$<span class="w"> </span>root@6dd93d6cdc80:/#<span class="w"> </span>ping<span class="w">  </span>my-nginx
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>PING<span class="w"> </span>my-nginx<span class="w"> </span><span class="o">(</span><span class="m">172</span>.19.0.2<span class="o">)</span><span class="w"> </span><span class="m">56</span><span class="o">(</span><span class="m">84</span><span class="o">)</span><span class="w"> </span>bytes<span class="w"> </span>of<span class="w"> </span>data.
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span>my-nginx.my-net<span class="w"> </span><span class="o">(</span><span class="m">172</span>.19.0.2<span class="o">)</span>:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">1</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">64</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">0</span>.094<span class="w"> </span>ms
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span>my-nginx.my-net<span class="w"> </span><span class="o">(</span><span class="m">172</span>.19.0.2<span class="o">)</span>:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">2</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">64</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">0</span>.056<span class="w"> </span>ms
</span><span id="__span-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span>my-nginx.my-net<span class="w"> </span><span class="o">(</span><span class="m">172</span>.19.0.2<span class="o">)</span>:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">3</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">64</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">0</span>.044<span class="w"> </span>ms
</span><span id="__span-19-6"><a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a><span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span>my-nginx.my-net<span class="w"> </span><span class="o">(</span><span class="m">172</span>.19.0.2<span class="o">)</span>:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">4</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">64</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">0</span>.064<span class="w"> </span>ms
</span><span id="__span-19-7"><a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a><span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span>my-nginx.my-net<span class="w"> </span><span class="o">(</span><span class="m">172</span>.19.0.2<span class="o">)</span>:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">5</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">64</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">0</span>.067<span class="w"> </span>ms
</span><span id="__span-19-8"><a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a><span class="m">64</span><span class="w"> </span>bytes<span class="w"> </span>from<span class="w"> </span>my-nginx.my-net<span class="w"> </span><span class="o">(</span><span class="m">172</span>.19.0.2<span class="o">)</span>:<span class="w"> </span><span class="nv">icmp_seq</span><span class="o">=</span><span class="m">6</span><span class="w"> </span><span class="nv">ttl</span><span class="o">=</span><span class="m">64</span><span class="w"> </span><span class="nv">time</span><span class="o">=</span><span class="m">0</span>.052<span class="w"> </span>ms
</span></code></pre></div>
<p>This shows that the container  can talk to each other and have a valid connect to the internet. If you want to see my-nginx webpage install curl package using <code>apt install curl</code> and <code>curl my-nginx</code></p>
<p>To remove user define network you have to stop containers then remove them from network. </p>
<div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>$<span class="w"> </span>docker<span class="w"> </span>network<span class="w"> </span>disconnect<span class="w"> </span>my-net<span class="w"> </span>my-nginx<span class="w"> </span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>$<span class="w"> </span>docker<span class="w"> </span>network<span class="w"> </span>disconnect<span class="w"> </span>my-net<span class="w"> </span>sleeping-ubuntu
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>$<span class="w"> </span>docker<span class="w"> </span>network<span class="w"> </span>rm<span class="w"> </span>my-net
</span></code></pre></div>
<h1 id="step-9-configure-host-network-only-on-linux-machines"><a name="Host"></a>Step 9: Configure Host network (only on Linux machines)<a class="headerlink" href="#step-9-configure-host-network-only-on-linux-machines" title="anchor link to this section for reference">&para;</a></h1>
<p>Host network setting can not be run in Windows + Docker Desktop environment because Windows network stack is incompatible to Docker host settings. You can this settings with Linux host using HAMK lab environments or your own linux servers</p>
<p>Lets create and start the container. We will start it as a detached process. The -d flag means to start the container detached (in the background). </p>
<div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span>--network<span class="w"> </span>host<span class="w"> </span>--name<span class="w"> </span>hello_nginx<span class="w"> </span>nginxdemos/hello
</span></code></pre></div>
<p>Point your web browser to the IP and port 80 of your Docker host. The following example shows a web browser pointed to <code>localhost:80</code>. You can also open webpage using Docker Desktop. You will see a basic information of the container. </p>
<div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a>Server<span class="w"> </span>address:<span class="w"> </span><span class="m">172</span>.17.0.2:80
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a>Server<span class="w"> </span>name:<span class="w">    </span>ac7bfe9a3569
</span><span id="__span-22-4"><a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a>
</span><span id="__span-22-5"><a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a>Date:<span class="w">   </span><span class="m">30</span>/Aug/2022:09:53:11<span class="w"> </span>+0000
</span><span id="__span-22-6"><a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a>
</span><span id="__span-22-7"><a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a>URI:<span class="w">    </span>/
</span></code></pre></div>
<p>To remove the container and free up port 80 we need to stop container. Container will be removed automatically because of --rm option.</p>
<div class="language-bash highlight"><span class="filename">Bash</span><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a>$<span class="w"> </span>docker<span class="w"> </span>container<span class="w"> </span>stop<span class="w"> </span>hello_nginx
</span></code></pre></div>
<p>https://docs.docker.com/get-started/docker_cheatsheet.pdf</p>







  
  






                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../4_docker-compose/" class="md-footer__link md-footer__link--prev" aria-label="Previous: 4 Docker compose">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                4 Docker compose
              </div>
            </div>
          </a>
        
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2025 <a href="https://www.hamk.fi/en/" target="blank" >Hme University of Applied Sciences (HAMK)</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://learn.hamk.fi/" target="_blank" rel="noopener" title="learn.hamk.fi" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m1.135 5.74.035.123-2.736 1.99c.369.261.796.61 1.007.844l.077.104C10.23 11.058 7.78 11.857 5.2 10.982l.02-.16h-.002A6.5 6.5 0 0 1 5.16 9.36c-.75-.003-1.53-.04-2.283-.066l-.516.018c-.1.844-.035 2.135-.025 2.322.35 1.282.298 2.29.295 3.53-.413-1.004-.9-2.098-.416-3.468l-.01-.318c0-.014-.068-1.153.037-2.062l-.408.013-.037-.119C5.792 6.84 8.503 6.218 13.135 5.74m1.623 2.514q1.83 0 2.904.807 1.22.9 1.22 2.658v5.685h-2.734v-5.369q0-1.683-1.39-1.683-1.391 0-1.39 1.683v5.37h-2.735v-5.37q-.001-.776-.293-1.193a5.5 5.5 0 0 0 1.572-1.725q.046.044.088.088.756-.952 2.758-.951m-9.61 3.234c.932.3 1.862.393 2.737.287a4 4 0 0 0-.01.26v5.37H5.143v-5.686q0-.118.005-.23"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.linkedin.com/school/hamk/" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5m282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
  
    
    
    
    
    <a href="" target="_blank" rel="noopener" title="" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6L284 427.7l-68.5 74.1c-8.9 9.7-22.9 12.9-35.2 8.1S160 493.2 160 480v-83.6c0-4 1.5-7.8 4.2-10.8l167.6-182.8c5.8-6.3 5.6-16-.4-22s-15.7-6.4-22-.7L106 360.8l-88.3-44.2C7.1 311.3.3 300.7 0 288.9s5.9-22.8 16.1-28.7l448-256c10.7-6.1 23.9-5.5 34 1.4"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.tabs.link", "content.code.copy", "content.code.annotate", "content.action.edit", "content.action.view", "navigation.tabs", "navigation.sections", "navigation.top", "navigation.footer", "search", "search.sidebar", "search.suggest", "search.highlight", "toc.integrate"], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.c8b220af.min.js"></script>
      
        <script src="../js/custom.js"></script>
      
    
  </body>
</html>